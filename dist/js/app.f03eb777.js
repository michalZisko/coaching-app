(function(e){function t(t){for(var a,o,r=t[0],n=t[1],l=t[2],d=0,b=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);u&&u(t);while(b.length)b.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,r=1;r<s.length;r++){var n=s[r];0!==c[n]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},c={app:0},i=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],n=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=n;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0c74":function(e,t,s){"use strict";s("45f1")},"0d4d":function(e,t,s){},"17a3":function(e,t,s){"use strict";s("9115")},"37b5":function(e,t,s){},"403f":function(e,t,s){"use strict";s("4497")},4497:function(e,t,s){},"45f1":function(e,t,s){},"4ce0":function(e,t,s){"use strict";s("0d4d")},"52d7":function(e,t,s){"use strict";s("fb49")},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("7a23");function c(e,t,s,c,i,o){const r=Object(a["C"])("the-header"),n=Object(a["C"])("router-view");return Object(a["u"])(),Object(a["h"])(a["a"],null,[Object(a["k"])(r),Object(a["k"])(n)],64)}const i=Object(a["j"])(" Find a Coach "),o=Object(a["j"])("All Coaches"),r=Object(a["j"])("Requests"),n=Object(a["j"])("Login"),l=Object(a["j"])("Log out"),u=Object(a["j"])("Sign up");function d(e,t,s,c,d,b){const j=Object(a["C"])("router-link"),h=Object(a["C"])("base-button");return Object(a["u"])(),Object(a["h"])("header",null,[Object(a["i"])("nav",null,[Object(a["i"])("h1",null,[Object(a["k"])(j,{to:"/"},{default:Object(a["J"])(()=>[i]),_:1})]),Object(a["i"])("ul",null,[Object(a["i"])("li",null,[Object(a["k"])(j,{to:"/coaches"},{default:Object(a["J"])(()=>[o]),_:1})]),Object(a["i"])("li",null,[b.isCoach?(Object(a["u"])(),Object(a["f"])(j,{key:0,to:"/requests"},{default:Object(a["J"])(()=>[r]),_:1})):Object(a["g"])("",!0)]),Object(a["i"])("li",null,[b.isLoggedIn?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])(h,{key:0,link:"",to:"/login"},{default:Object(a["J"])(()=>[n]),_:1}))]),Object(a["i"])("li",null,[b.isLoggedIn?(Object(a["u"])(),Object(a["f"])(h,{key:0,onClick:b.logout,link:"",to:"/login"},{default:Object(a["J"])(()=>[l]),_:1},8,["onClick"])):Object(a["g"])("",!0)]),Object(a["i"])("li",null,[b.isLoggedIn?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])(h,{key:0,link:"",to:"/register-user"},{default:Object(a["J"])(()=>[u]),_:1}))])])])])}var b={data(){return{}},methods:{logout(){this.$store.dispatch("logOut"),this.$router.replace("/")}},computed:{isCoach(){return this.$store.getters["coaches/isCoach"]},isLoggedIn(){return this.$store.getters.isAuthenticated},buttonCaption(){return this.isLoggedIn?"Log out":"Log in"}}},j=(s("d6e9"),s("6b0d")),h=s.n(j);const O=h()(b,[["render",d],["__scopeId","data-v-1a85c7f4"]]);var m=O,f={components:{TheHeader:m}};s("86c9");const p=h()(f,[["render",c]]);var v=p,g=s("6c02");const k=Object(a["i"])("h2",null,"Page not found",-1),y=Object(a["j"])(" This page could not be found, maybe check out all your "),C=Object(a["j"])(" Coaches");function w(e,t){const s=Object(a["C"])("router-link"),c=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["h"])("section",null,[Object(a["k"])(c,null,{default:Object(a["J"])(()=>[k,Object(a["i"])("p",null,[y,Object(a["k"])(s,{to:"/coaches"},{default:Object(a["J"])(()=>[C]),_:1})])]),_:1})])}const _={},I=h()(_,[["render",w]]);var q=I;const V=Object(a["i"])("h2",null,"Interested? Reach out now!",-1),F=Object(a["j"])("Contact");function N(e,t,s,c,i,o){const r=Object(a["C"])("base-card"),n=Object(a["C"])("base-button"),l=Object(a["C"])("router-view"),u=Object(a["C"])("base-badge");return Object(a["u"])(),Object(a["h"])(a["a"],null,[Object(a["i"])("section",null,[Object(a["k"])(r,null,{default:Object(a["J"])(()=>[Object(a["i"])("h2",null,Object(a["E"])(o.fullName),1),Object(a["i"])("h3",null,"$"+Object(a["E"])(o.rate)+"/hour",1)]),_:1})]),Object(a["i"])("section",null,[Object(a["k"])(r,null,{default:Object(a["J"])(()=>[Object(a["i"])("header",null,[V,i.show?(Object(a["u"])(),Object(a["f"])(n,{key:0,onClick:o.hide,link:"",to:o.contactLink},{default:Object(a["J"])(()=>[F]),_:1},8,["onClick","to"])):Object(a["g"])("",!0)]),Object(a["k"])(l)]),_:1})]),Object(a["i"])("section",null,[Object(a["k"])(r,null,{default:Object(a["J"])(()=>[(Object(a["u"])(!0),Object(a["h"])(a["a"],null,Object(a["A"])(o.areas,e=>(Object(a["u"])(),Object(a["f"])(u,{key:e,type:e,title:e},null,8,["type","title"]))),128)),Object(a["i"])("p",null,Object(a["E"])(o.description),1)]),_:1})])],64)}var L={props:["id"],data(){return{show:!0,selectedCoach:null}},methods:{hide(){this.show=!1}},computed:{areas(){return this.selectedCoach.areas},rate(){return this.selectedCoach.hourlyRate},fullName(){return this.selectedCoach.firstName+" "+this.selectedCoach.lastName},contactLink(){return"/coaches/"+this.id+"/contact"},description(){return this.selectedCoach.description}},created(){this.selectedCoach=this.$store.getters["coaches/coaches"].find(e=>e.id===this.id)}};const x=h()(L,[["render",N]]);var E=x;const J={class:"controls"},$=Object(a["j"])("Refresh"),R=Object(a["j"])(" Register as Coach"),U={key:0},S={key:1},A={key:2};function B(e,t,s,c,i,o){const r=Object(a["C"])("base-dialog"),n=Object(a["C"])("coach-filter"),l=Object(a["C"])("base-button"),u=Object(a["C"])("base-spinner"),d=Object(a["C"])("coach-item"),b=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["h"])(a["a"],null,[Object(a["k"])(r,{show:!!i.error,title:"An Error occured.",onClose:o.handleError},{default:Object(a["J"])(()=>[Object(a["i"])("p",null,Object(a["E"])(i.error),1)]),_:1},8,["show","onClose"]),Object(a["i"])("section",null,[Object(a["k"])(n,{onChangeFilter:o.setFilters},null,8,["onChangeFilter"])]),Object(a["i"])("section",null,[Object(a["k"])(b,null,{default:Object(a["J"])(()=>[Object(a["i"])("div",J,[Object(a["k"])(l,{onClick:t[0]||(t[0]=e=>o.loadCoaches(!0)),mode:"outline"},{default:Object(a["J"])(()=>[$]),_:1}),o.isCoach||!o.isLoggedIn||i.isLoading?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])(l,{key:0,link:"",to:"/register"},{default:Object(a["J"])(()=>[R]),_:1}))]),i.isLoading?(Object(a["u"])(),Object(a["h"])("div",U,[Object(a["k"])(u)])):o.hasCoaches?(Object(a["u"])(),Object(a["h"])("ul",S,[(Object(a["u"])(!0),Object(a["h"])(a["a"],null,Object(a["A"])(o.filteredCoaches,e=>(Object(a["u"])(),Object(a["f"])(d,{key:e.id,id:e.id,firstName:e.firstName,lastName:e.lastName,rate:e.hourlyRate,areas:e.areas},null,8,["id","firstName","lastName","rate","areas"]))),128))])):(Object(a["u"])(),Object(a["h"])("h3",A,"No coaches found"))]),_:1})])],64)}s("caad");const D={class:"actions"},K=Object(a["j"])(" Contact"),P=Object(a["j"])(" View Details");function T(e,t,s,c,i,o){const r=Object(a["C"])("base-badge"),n=Object(a["C"])("base-button");return Object(a["u"])(),Object(a["h"])("li",null,[Object(a["i"])("h3",null,Object(a["E"])(o.fullName),1),Object(a["i"])("h4",null,"$"+Object(a["E"])(s.rate)+"/hour",1),Object(a["i"])("div",null,[(Object(a["u"])(!0),Object(a["h"])(a["a"],null,Object(a["A"])(s.areas,e=>(Object(a["u"])(),Object(a["f"])(r,{key:e,type:e,title:e},null,8,["type","title"]))),128))]),Object(a["i"])("div",D,[Object(a["k"])(n,{link:"",mode:"outline",to:o.coachContactLink},{default:Object(a["J"])(()=>[K]),_:1},8,["to"]),Object(a["k"])(n,{link:"",to:o.coachDetailsLink},{default:Object(a["J"])(()=>[P]),_:1},8,["to"])])])}var H={props:["id","firstName","lastName","rate","areas"],computed:{fullName(){return this.firstName+" "+this.lastName},coachContactLink(){return this.$route.path+"/"+this.id+"/contact"},coachDetailsLink(){return this.$route.path+"/"+this.id}}};s("617e");const M=h()(H,[["render",T],["__scopeId","data-v-4d63a0ac"]]);var G=M;const Y=e=>(Object(a["x"])("data-v-02efd1a1"),e=e(),Object(a["v"])(),e),z=Y(()=>Object(a["i"])("h2",null,"Find Your Coach",-1)),Z={class:"filter-option"},W=Y(()=>Object(a["i"])("label",{for:"frontend"},"Frontend",-1)),Q={class:"filter-option"},X=Y(()=>Object(a["i"])("label",{for:"Backend"},"Backend",-1)),ee={class:"filter-option"},te=Y(()=>Object(a["i"])("label",{for:"career"},"Career",-1));function se(e,t,s,c,i,o){const r=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["f"])(r,null,{default:Object(a["J"])(()=>[z,Object(a["i"])("span",Z,[Object(a["i"])("input",{type:"checkbox",id:"frontend",checked:"",onChange:t[0]||(t[0]=(...e)=>o.setFilter&&o.setFilter(...e))},null,32),W]),Object(a["i"])("span",Q,[Object(a["i"])("input",{type:"checkbox",id:"backend",checked:"",onChange:t[1]||(t[1]=(...e)=>o.setFilter&&o.setFilter(...e))},null,32),X]),Object(a["i"])("span",ee,[Object(a["i"])("input",{type:"checkbox",id:"career",checked:"",onChange:t[2]||(t[2]=(...e)=>o.setFilter&&o.setFilter(...e))},null,32),te])]),_:1})}var ae={emits:["change-filter"],data(){return{filters:{frontend:!0,backend:!0,career:!0}}},methods:{setFilter(e){const t=e.target.id,s=e.target.checked,a={...this.filters,[t]:s};this.filters=a,this.$emit("change-filter",a)}}};s("c9ce");const ce=h()(ae,[["render",se],["__scopeId","data-v-02efd1a1"]]);var ie=ce,oe={components:{CoachItem:G,CoachFilter:ie},data(){return{isLoading:!1,error:null,activeFilters:{frontend:!0,backend:!0,career:!0}}},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated},isCoach(){return this.$store.getters["coaches/isCoach"]},filteredCoaches(){const e=this.$store.getters["coaches/coaches"];return e.filter(e=>!(!this.activeFilters.frontend||!e.areas.includes("frontend"))||(!(!this.activeFilters.backend||!e.areas.includes("backend"))||!(!this.activeFilters.career||!e.areas.includes("career"))))},hasCoaches(){return!this.isLoading&&this.$store.getters["coaches/hasCoaches"]}},created(){this.loadCoaches()},methods:{setFilters(e){this.activeFilters=e},handleError(){this.error=null},async loadCoaches(e=!1){this.isLoading=!0;try{await this.$store.dispatch("coaches/loadCoaches",{forceRefresh:e})}catch(t){this.error=t.message||"Something went wrong."}this.isLoading=!1}}};s("bad3");const re=h()(oe,[["render",B],["__scopeId","data-v-77749068"]]);var ne=re;const le=Object(a["i"])("h2",null,"Register as a Coach now!",-1);function ue(e,t,s,c,i,o){const r=Object(a["C"])("coach-form"),n=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["h"])("section",null,[Object(a["k"])(n,null,{default:Object(a["J"])(()=>[le,Object(a["k"])(r,{onSaveData:o.saveData},null,8,["onSaveData"])]),_:1})])}const de=e=>(Object(a["x"])("data-v-0520ef53"),e=e(),Object(a["v"])(),e),be=de(()=>Object(a["i"])("label",{for:"firstname"},"First Name",-1)),je={key:0},he=de(()=>Object(a["i"])("label",{for:"lastname"},"Last Name",-1)),Oe={key:0},me=de(()=>Object(a["i"])("label",{for:"description"},"Description",-1)),fe={key:0},pe=de(()=>Object(a["i"])("label",{for:"rate"},"Hourly Rate",-1)),ve={key:0},ge=de(()=>Object(a["i"])("h3",null,"Areas of Expertise",-1)),ke=de(()=>Object(a["i"])("label",{for:"frontend"}," Frontend Development",-1)),ye=de(()=>Object(a["i"])("label",{for:"frontend"}," Backend Development",-1)),Ce=de(()=>Object(a["i"])("label",{for:"career"}," Career Advisory",-1)),we={key:0},_e={key:0},Ie=Object(a["j"])("Register");function qe(e,t,s,c,i,o){const r=Object(a["C"])("base-button");return Object(a["u"])(),Object(a["h"])("form",{onSubmit:t[14]||(t[14]=Object(a["L"])((...e)=>o.submitForm&&o.submitForm(...e),["prevent"]))},[Object(a["i"])("div",{class:Object(a["q"])(["form-control",{invalid:!i.firstName.isValid}])},[be,Object(a["K"])(Object(a["i"])("input",{type:"text",id:"firstname","onUpdate:modelValue":t[0]||(t[0]=e=>i.firstName.value=e),onBlur:t[1]||(t[1]=e=>o.clear("firstName"))},null,544),[[a["H"],i.firstName.value,void 0,{trim:!0}]]),i.firstName.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",je,"First name must not be empty"))],2),Object(a["i"])("div",{class:Object(a["q"])(["form-control",{invalid:!i.lastName.isValid}])},[he,Object(a["K"])(Object(a["i"])("input",{type:"text",id:"lastname","onUpdate:modelValue":t[2]||(t[2]=e=>i.lastName.value=e),onBlur:t[3]||(t[3]=e=>o.clear("lastName"))},null,544),[[a["H"],i.lastName.value,void 0,{trim:!0}]]),i.lastName.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",Oe,"Last name must not be empty"))],2),Object(a["i"])("div",{class:Object(a["q"])(["form-control",{invalid:!i.description.isValid}])},[me,Object(a["K"])(Object(a["i"])("textarea",{type:"text",id:"description",rows:"5","onUpdate:modelValue":t[4]||(t[4]=e=>i.description.value=e),onBlur:t[5]||(t[5]=e=>o.clear("description"))},null,544),[[a["H"],i.description.value]]),i.description.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",fe,"Description must not be empty"))],2),Object(a["i"])("div",{class:Object(a["q"])(["form-control",{invalid:!i.rate.isValid}])},[pe,Object(a["K"])(Object(a["i"])("input",{type:"number",id:"rate","onUpdate:modelValue":t[6]||(t[6]=e=>i.rate.value=e),onBlur:t[7]||(t[7]=e=>o.clear("rate"))},null,544),[[a["H"],i.rate.value,void 0,{number:!0}]]),i.rate.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",ve,"Rate cannot be empty nor below zero"))],2),Object(a["i"])("div",{class:Object(a["q"])(["form-control",{invalid:!i.areas.isValid}])},[ge,Object(a["i"])("div",null,[Object(a["K"])(Object(a["i"])("input",{type:"checkbox",id:"frontend",value:"frontend","onUpdate:modelValue":t[8]||(t[8]=e=>i.areas.value=e),onBlur:t[9]||(t[9]=e=>o.clear("areas"))},null,544),[[a["G"],i.areas.value]]),ke]),Object(a["i"])("div",null,[Object(a["K"])(Object(a["i"])("input",{type:"checkbox",id:"backend",value:"backend","onUpdate:modelValue":t[10]||(t[10]=e=>i.areas.value=e),onBlur:t[11]||(t[11]=e=>o.clear("areas"))},null,544),[[a["G"],i.areas.value]]),ye]),Object(a["i"])("div",null,[Object(a["K"])(Object(a["i"])("input",{type:"checkbox",id:"career",value:"career","onUpdate:modelValue":t[12]||(t[12]=e=>i.areas.value=e),onBlur:t[13]||(t[13]=e=>o.clear("areas"))},null,544),[[a["G"],i.areas.value]]),Ce]),i.areas.isValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",we,"You must choose at least one expertise"))],2),i.formIsValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",_e,"Please fix the above errors and submit again")),Object(a["k"])(r,null,{default:Object(a["J"])(()=>[Ie]),_:1})],32)}var Ve={emits:["save-data"],data(){return{firstName:{value:"",isValid:!0},lastName:{value:"",isValid:!0},description:{value:"",isValid:!0},rate:{value:null,isValid:!0},areas:{value:[],isValid:!0},formIsValid:!0}},methods:{validateForm(){this.formIsValid=!0,""===this.firstName.value&&(this.firstName.isValid=!1,this.formIsValid=!1),""===this.lastName.value&&(this.lastName.isValid=!1,this.formIsValid=!1),""===this.description.value&&(this.description.isValid=!1,this.formIsValid=!1),(!this.rate.value||this.rate.value<0)&&(this.rate.isValid=!1,this.formIsValid=!1),0===this.areas.value.length&&(this.areas.isValid=!1,this.formIsValid=!1)},clear(e){this[e].isValid=!0},submitForm(){if(this.validateForm(),!this.formIsValid)return;const e={first:this.firstName.value,last:this.lastName.value,desc:this.description.value,rate:this.rate.value,areas:this.areas.value};this.$emit("save-data",e)}}};s("6197");const Fe=h()(Ve,[["render",qe],["__scopeId","data-v-0520ef53"]]);var Ne=Fe,Le={components:{CoachForm:Ne},methods:{saveData(e){this.$store.dispatch("coaches/registerCoach",e),this.$router.replace("/coaches")}}};const xe=h()(Le,[["render",ue]]);var Ee=xe;const Je=e=>(Object(a["x"])("data-v-72f0cb08"),e=e(),Object(a["v"])(),e),$e={key:0,class:"form-control"},Re=Je(()=>Object(a["i"])("label",{for:"email"},"Your E-Mail",-1)),Ue={class:"form-control"},Se=Je(()=>Object(a["i"])("label",{for:"messege"},"Messege",-1)),Ae={key:1,class:"errors"},Be={class:"actions"},De=Object(a["j"])("Send Messege");function Ke(e,t,s,c,i,o){const r=Object(a["C"])("base-button");return Object(a["u"])(),Object(a["h"])("form",{onSubmit:t[2]||(t[2]=Object(a["L"])((...e)=>o.submitForm&&o.submitForm(...e),["prevent"]))},[o.isLoggedIn?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("div",$e,[Re,Object(a["K"])(Object(a["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e)},null,512),[[a["H"],i.email,void 0,{trim:!0}]])])),Object(a["i"])("div",Ue,[Se,Object(a["K"])(Object(a["i"])("textarea",{id:"messege",rows:"5","onUpdate:modelValue":t[1]||(t[1]=e=>i.messege=e)},null,512),[[a["H"],i.messege,void 0,{trim:!0}]])]),i.formIsValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",Ae," Please enter a valid email and non empty messege ")),Object(a["i"])("div",Be,[Object(a["k"])(r,null,{default:Object(a["J"])(()=>[De]),_:1})])],32)}var Pe={data(){return{email:this.$store.getters.userEmail||"",messege:"",formIsValid:!0}},computed:{isLoggedIn(){return this.$store.getters.isAuthenticated}},methods:{submitForm(){this.formIsValid=!0,""!==this.email&&this.email.includes("@")&&""!==this.messege?(this.$store.dispatch("requests/contactCoach",{email:this.email,message:this.messege,coachId:this.$route.params.id}),this.$router.replace("/coaches")):this.formIsValid=!1}}};s("7587");const Te=h()(Pe,[["render",Ke],["__scopeId","data-v-72f0cb08"]]);var He=Te;const Me=e=>(Object(a["x"])("data-v-54d24b09"),e=e(),Object(a["v"])(),e),Ge={key:0},Ye=Me(()=>Object(a["i"])("h2",null,"Requests Received",-1)),ze=[Ye],Ze={key:2},We={key:3};function Qe(e,t,s,c,i,o){const r=Object(a["C"])("base-dialog"),n=Object(a["C"])("base-spinner"),l=Object(a["C"])("request-item"),u=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["h"])(a["a"],null,[Object(a["k"])(r,{show:!!i.error,title:"An Error occured.",onClose:o.handleError},{default:Object(a["J"])(()=>[Object(a["i"])("p",null,Object(a["E"])(i.error),1)]),_:1},8,["show","onClose"]),Object(a["i"])("section",null,[Object(a["k"])(u,null,{default:Object(a["J"])(()=>[o.hasRequests?(Object(a["u"])(),Object(a["h"])("header",Ge,ze)):Object(a["g"])("",!0),i.isLoading?(Object(a["u"])(),Object(a["f"])(n,{key:1})):o.hasRequests&&!i.isLoading?(Object(a["u"])(),Object(a["h"])("ul",Ze,[(Object(a["u"])(!0),Object(a["h"])(a["a"],null,Object(a["A"])(o.receivedRequests,e=>(Object(a["u"])(),Object(a["f"])(l,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"]))),128))])):(Object(a["u"])(),Object(a["h"])("h3",We,"You have not received any requests yet!"))]),_:1})])],64)}const Xe=["href"];function et(e,t,s,c,i,o){return Object(a["u"])(),Object(a["h"])("li",null,[Object(a["i"])("div",null,[Object(a["i"])("a",{href:o.emailLink},Object(a["E"])(s.email),9,Xe)]),Object(a["i"])("p",null,Object(a["E"])(s.message),1)])}var tt={props:["email","message"],computed:{emailLink(){return"mailto:"+this.email}},data(){return{}}};s("8178");const st=h()(tt,[["render",et],["__scopeId","data-v-09d223f0"]]);var at=st,ct={components:{RequestItem:at},data(){return{isLoading:!1,error:null}},computed:{receivedRequests(){return this.$store.getters["requests/requests"]},hasRequests(){return this.$store.getters["requests/hasRequests"]}},created(){this.loadRequests()},methods:{handleError(){this.error=null,this.$router.replace("/")},async loadRequests(){this.isLoading=!0;try{await this.$store.dispatch("requests/fetchRequests")}catch(e){this.error=e.message||"Something failed."}this.isLoading=!1}}};s("96bd");const it=h()(ct,[["render",Qe],["__scopeId","data-v-54d24b09"]]);var ot=it;const rt=e=>(Object(a["x"])("data-v-92e55994"),e=e(),Object(a["v"])(),e),nt={class:"form-control"},lt=rt(()=>Object(a["i"])("label",{for:"email"},"Email",-1)),ut=rt(()=>Object(a["i"])("label",{for:"password"},"Password",-1)),dt=rt(()=>Object(a["i"])("p",null,null,-1)),bt=Object(a["j"])("Login"),jt=Object(a["j"])("Don't have an account? "),ht=Object(a["j"])("Sign up");function Ot(e,t,s,c,i,o){const r=Object(a["C"])("base-dialog"),n=Object(a["C"])("base-spinner"),l=Object(a["C"])("base-button"),u=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["h"])("div",null,[Object(a["k"])(r,{show:!!i.error,title:"An error occured",onClose:o.handleError},{default:Object(a["J"])(()=>[Object(a["i"])("p",null,Object(a["E"])(i.error),1)]),_:1},8,["show","onClose"]),Object(a["k"])(r,{show:i.isLoading,title:"Authenticating...",fixed:""},{default:Object(a["J"])(()=>[Object(a["k"])(n)]),_:1},8,["show"]),Object(a["k"])(r,{show:i.userCreated,title:"Account created successfully!",onClose:o.confirmUser},null,8,["show","onClose"]),Object(a["i"])("form",{onSubmit:t[2]||(t[2]=Object(a["L"])((...e)=>o.submitForm&&o.submitForm(...e),["prevent"]))},[Object(a["k"])(u,null,{default:Object(a["J"])(()=>[Object(a["i"])("div",nt,[lt,Object(a["K"])(Object(a["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e)},null,512),[[a["H"],i.email,void 0,{trim:!0}]])]),Object(a["i"])("div",null,[ut,Object(a["K"])(Object(a["i"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e)},null,512),[[a["H"],i.password,void 0,{trim:!0}]])]),dt,Object(a["k"])(l,null,{default:Object(a["J"])(()=>[bt]),_:1}),Object(a["i"])("span",null,[jt,Object(a["k"])(l,{link:"",to:"/register-user",type:"button",mode:"flat"},{default:Object(a["J"])(()=>[ht]),_:1})])]),_:1})],32)])}var mt={data(){return{email:"",password:"",formIsValid:!0,isLoading:!1,error:null,userCreated:!1}},methods:{confirmUser(){this.userCreated=!1},handleError(){this.error=null},async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)this.formIsValid=!1;else{this.isLoading=!0;try{await this.$store.dispatch("login",{email:this.email,password:this.password}),this.userCreated=!0,this.email=this.password="",this.$router.replace("/")}catch(e){this.error=e.message||"Failed to authenticate"}this.isLoading=!1}}}};s("17a3");const ft=h()(mt,[["render",Ot],["__scopeId","data-v-92e55994"]]);var pt=ft;const vt=e=>(Object(a["x"])("data-v-92801ef0"),e=e(),Object(a["v"])(),e),gt={class:"form-control"},kt=vt(()=>Object(a["i"])("label",{for:"email"},"Email",-1)),yt=vt(()=>Object(a["i"])("label",{for:"password"},"Password",-1)),Ct=vt(()=>Object(a["i"])("label",{for:"confirm"},"Confirm Password",-1)),wt=vt(()=>Object(a["i"])("p",null,null,-1)),_t={key:0},It=Object(a["j"])("Register"),qt=Object(a["j"])("Already have an account? "),Vt=Object(a["j"])("Login");function Ft(e,t,s,c,i,o){const r=Object(a["C"])("base-dialog"),n=Object(a["C"])("base-spinner"),l=Object(a["C"])("base-button"),u=Object(a["C"])("base-card");return Object(a["u"])(),Object(a["h"])("div",null,[Object(a["k"])(r,{show:!!i.error,title:"An error occured",onClose:o.handleError},{default:Object(a["J"])(()=>[Object(a["i"])("p",null,Object(a["E"])(i.error),1)]),_:1},8,["show","onClose"]),Object(a["k"])(r,{show:i.isLoading,title:"Authenticating...",fixed:""},{default:Object(a["J"])(()=>[Object(a["k"])(n)]),_:1},8,["show"]),Object(a["k"])(r,{show:i.userCreated,title:"Account created successfully!",onClose:o.confirmUser},null,8,["show","onClose"]),Object(a["i"])("form",{onSubmit:t[3]||(t[3]=Object(a["L"])((...e)=>o.submitForm&&o.submitForm(...e),["prevent"]))},[Object(a["k"])(u,null,{default:Object(a["J"])(()=>[Object(a["i"])("div",gt,[kt,Object(a["K"])(Object(a["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>i.email=e)},null,512),[[a["H"],i.email,void 0,{trim:!0}]])]),Object(a["i"])("div",null,[yt,Object(a["K"])(Object(a["i"])("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.password=e)},null,512),[[a["H"],i.password,void 0,{trim:!0}]])]),Object(a["i"])("div",null,[Ct,Object(a["K"])(Object(a["i"])("input",{type:"password",id:"confirm","onUpdate:modelValue":t[2]||(t[2]=e=>i.confirm=e)},null,512),[[a["H"],i.confirm,void 0,{trim:!0}]])]),wt,i.formIsValid?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("p",_t," Make sure you entered a valid email, and valid password both times ")),Object(a["k"])(l,null,{default:Object(a["J"])(()=>[It]),_:1}),Object(a["i"])("span",null,[qt,Object(a["k"])(l,{link:"",to:"/login",type:"button",mode:"flat"},{default:Object(a["J"])(()=>[Vt]),_:1})])]),_:1})],32)])}var Nt={data(){return{email:"",password:"",confirm:"",formIsValid:!0,isLoading:!1,error:null,userCreated:!1}},methods:{confirmUser(){this.userCreated=!1},handleError(){this.error=null},async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6||this.password!==this.confirm)this.formIsValid=!1;else{this.isLoading=!0;try{await this.$store.dispatch("signUp",{email:this.email,password:this.password}),this.userCreated=!0,this.email=this.password=this.confirm="",this.$router.replace("/login")}catch(e){this.error=e.message||"Failed to authenticate"}this.isLoading=!1}}}};s("0c74");const Lt=h()(Nt,[["render",Ft],["__scopeId","data-v-92801ef0"]]);var xt=Lt,Et=s("5502"),Jt={registerCoach(e,t){e.coaches.push(t)},setCoaches(e,t){e.coaches=t},setFetchTimestamp(e){e.lastFetch=(new Date).getTime()}},$t=(s("d9e2"),{async registerCoach(e,t){const s=e.rootGetters.userId,a={firstName:t.first,lastName:t.last,description:t.desc,hourlyRate:t.rate,areas:t.areas},c=e.rootGetters.token,i=await fetch(`https://test-app-73d2e-default-rtdb.europe-west1.firebasedatabase.app/coaches/${s}.json?auth=${c}`,{method:"PUT",body:JSON.stringify(a)});i.ok,e.commit("registerCoach",{...a,id:s})},async loadCoaches(e,t){if(!t.forceRefresh&&!e.getters.shouldUpdate)return;const s=await fetch("https://test-app-73d2e-default-rtdb.europe-west1.firebasedatabase.app/coaches.json"),a=await s.json();if(!s.ok){const e=new Error(a.message||"Failed to fetch.");throw e}const c=[];for(const i in a){const e={id:i,firstName:a[i].firstName,lastName:a[i].lastName,description:a[i].description,hourlyRate:a[i].hourlyRate,areas:a[i].areas};c.push(e)}e.commit("setCoaches",c),e.commit("setFetchTimestamp")}}),Rt={coaches(e){return e.coaches},hasCoaches(e){return e.coaches&&e.coaches.length>0},isCoach(e,t,s,a){const c=t.coaches,i=a.userId;return c.some(e=>e.id===i)},shouldUpdate(e){const t=e.lastFetch;if(!t)return!0;const s=(new Date).getTime();return(s-t)/1e3>60}},Ut={namespaced:!0,state(){return{lastFetch:null,coaches:[]}},mutations:Jt,actions:$t,getters:Rt},St={addRequest(e,t){e.requests.push(t)},setRequests(e,t){e.requests=t}},At={async contactCoach(e,t){const s={userEmail:t.email,message:t.message},a=await fetch(`https://test-app-73d2e-default-rtdb.europe-west1.firebasedatabase.app/requests/${t.coachId}.json`,{method:"POST",body:JSON.stringify(s)}),c=await a.json();if(!a.ok){const e=new Error(c.message||"Failed to send request");throw e}s.id=c.name,s.coachId=t.coachId,e.commit("addRequest",s)},async fetchRequests(e){const t=e.rootGetters.userId,s=e.rootGetters.token,a=await fetch(`https://test-app-73d2e-default-rtdb.europe-west1.firebasedatabase.app/requests/${t}.json?auth=${s}`),c=await a.json();if(!a.ok){const e=new Error(c.message||"Something went wrong.");throw e}const i=[];for(const o in c){const e={id:o,coachId:t,userEmail:c[o].userEmail,message:c[o].message};i.push(e)}e.commit("setRequests",i)}},Bt={requests(e,t,s,a){const c=a.userId;return e.requests.filter(e=>e.coachId===c)},hasRequests(e,t){return t.requests.length>0}},Dt={namespaced:!0,state(){return{requests:[]}},mutations:St,actions:At,getters:Bt},Kt={setUser(e,t){e.email=t.email,e.token=t.token,e.userId=t.userId,e.tokenExpiration=t.tokenExpiration}},Pt={async login(e,t){const s=await fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDnuoKsn1D9hIeUooxBrNx_6KFOZNO7u3s",{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),a=await s.json();if(console.log(a.email),!s.ok){const e=new Error(a.message||"Failed to authenticate");throw e}e.commit("setUser",{email:a.email,token:a.idToken,userId:a.localId,tokenExporation:a.expiresIn})},async signUp(e,t){const s=await fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDnuoKsn1D9hIeUooxBrNx_6KFOZNO7u3s",{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})}),a=await s.json();if(!s.ok){const e=new Error(a.message||"Failed to authenticate");throw e}e.commit("setUser",{email:a.email,token:a.idToken,userId:a.localId,tokenExporation:a.expiresIn})},logOut(e){e.commit("setUser",{token:null,userId:null,tokenExporation:null,email:null})}},Tt={userId(e){return e.userId},token(e){return e.token},userEmail(e){return e.email},isAuthenticated(e){return!!e.token}},Ht={state(){return{email:null,userId:null,token:null,tokenExpiration:null}},mutations:Kt,actions:Pt,getters:Tt};const Mt=Object(Et["a"])({modules:{coaches:Ut,requests:Dt,auth:Ht}});var Gt=Mt;const Yt=Object(g["a"])({history:Object(g["b"])(),routes:[{path:"/",redirect:"/coaches"},{path:"/coaches",component:ne},{path:"/coaches/:id",component:E,props:!0,children:[{path:"contact",component:He}]},{path:"/register",component:Ee,meta:{requiresAuth:!0}},{path:"/requests",component:ot,meta:{requiresAuth:!0}},{path:"/login",component:pt,meta:{requiresUnauth:!0}},{path:"/register-user",component:xt},{path:"/:catchAll(.*)",component:q}]});Yt.beforeEach((e,t,s)=>{e.meta.requiresAuth&&!Gt.getters.isAuthenticated?s("/login"):e.meta.requiresUnauth&&Gt.getters.isAuthenticated?s("/coaches"):s()});var zt=Yt;const Zt={class:"card"};function Wt(e,t){return Object(a["u"])(),Object(a["h"])("div",Zt,[Object(a["B"])(e.$slots,"default",{},void 0,!0)])}s("caa2");const Qt={},Xt=h()(Qt,[["render",Wt],["__scopeId","data-v-005dc651"]]);var es=Xt;function ts(e,t,s,c,i,o){const r=Object(a["C"])("router-link");return s.link?(Object(a["u"])(),Object(a["f"])(r,{key:1,to:s.to,class:Object(a["q"])(s.mode)},{default:Object(a["J"])(()=>[Object(a["B"])(e.$slots,"default",{},void 0,!0)]),_:3},8,["to","class"])):(Object(a["u"])(),Object(a["h"])("button",{key:0,class:Object(a["q"])(s.mode)},[Object(a["B"])(e.$slots,"default",{},void 0,!0)],2))}var ss={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};s("4ce0");const as=h()(ss,[["render",ts],["__scopeId","data-v-e9f04228"]]);var cs=as;function is(e,t,s,c,i,o){return Object(a["u"])(),Object(a["h"])("span",{class:Object(a["q"])(["badge",s.type])},Object(a["E"])(o.text),3)}var os={props:["type","title"],computed:{text(){return this.title.toUpperCase()}}};s("403f");const rs=h()(os,[["render",is],["__scopeId","data-v-1be7cd12"]]);var ns=rs;const ls=e=>(Object(a["x"])("data-v-ccf51bb4"),e=e(),Object(a["v"])(),e),us={class:"spinner"},ds=ls(()=>Object(a["i"])("div",{class:"lds-roller"},[Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div"),Object(a["i"])("div")],-1)),bs=[ds];function js(e,t){return Object(a["u"])(),Object(a["h"])("div",us,bs)}s("746c");const hs={},Os=h()(hs,[["render",js],["__scopeId","data-v-ccf51bb4"]]);var ms=Os;const fs={key:0,open:""},ps={key:0},vs=Object(a["j"])("Close");function gs(e,t,s,c,i,o){const r=Object(a["C"])("base-button");return Object(a["u"])(),Object(a["f"])(a["b"],{to:"body"},[s.show?(Object(a["u"])(),Object(a["h"])("div",{key:0,onClick:t[0]||(t[0]=(...e)=>o.tryClose&&o.tryClose(...e)),class:"backdrop"})):Object(a["g"])("",!0),Object(a["k"])(a["c"],{name:"dialog"},{default:Object(a["J"])(()=>[s.show?(Object(a["u"])(),Object(a["h"])("dialog",fs,[Object(a["i"])("header",null,[Object(a["B"])(e.$slots,"header",{},()=>[Object(a["i"])("h2",null,Object(a["E"])(s.title),1)],!0)]),Object(a["i"])("section",null,[Object(a["B"])(e.$slots,"default",{},void 0,!0)]),s.fixed?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["h"])("menu",ps,[Object(a["B"])(e.$slots,"actions",{},()=>[Object(a["k"])(r,{onClick:o.tryClose},{default:Object(a["J"])(()=>[vs]),_:1},8,["onClick"])],!0)]))])):Object(a["g"])("",!0)]),_:3})])}var ks={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}};s("52d7");const ys=h()(ks,[["render",gs],["__scopeId","data-v-f4fcc506"]]);var Cs=ys;const ws=Object(a["e"])(v);ws.use(zt),ws.use(Gt),ws.component("base-card",es),ws.component("base-button",cs),ws.component("base-badge",ns),ws.component("base-spinner",ms),ws.component("base-dialog",Cs),ws.mount("#app")},"5de5":function(e,t,s){},"617e":function(e,t,s){"use strict";s("9409")},6197:function(e,t,s){"use strict";s("a864")},6473:function(e,t,s){},"746c":function(e,t,s){"use strict";s("9773")},"74dd":function(e,t,s){},7587:function(e,t,s){"use strict";s("fb6a")},8178:function(e,t,s){"use strict";s("e4d2")},"86c9":function(e,t,s){"use strict";s("6473")},9115:function(e,t,s){},9409:function(e,t,s){},"96bd":function(e,t,s){"use strict";s("f467")},9773:function(e,t,s){},a025:function(e,t,s){},a864:function(e,t,s){},bad3:function(e,t,s){"use strict";s("74dd")},c9ce:function(e,t,s){"use strict";s("5de5")},caa2:function(e,t,s){"use strict";s("37b5")},d6e9:function(e,t,s){"use strict";s("a025")},e4d2:function(e,t,s){},f467:function(e,t,s){},fb49:function(e,t,s){},fb6a:function(e,t,s){}});
//# sourceMappingURL=app.f03eb777.js.map